---
title: 2022秋招八股文笔记《操作系统2-CPU》
date: '2022-04-26'
tags: ['操作系统', '笔记', '秋招', '八股文']
draft: false
summary: 2022秋招八股文笔记《操作系统2-CPU》
---

1. 冯诺依曼提出的计算机架构：
   1. 控制器、运算器、存储器和输入输出
2. CPU 包括：寄存器、控制单元和逻辑运算单元，并通过总线（控制总线、数据总线和地址总线）和内存以及输入输出通信
3. 内存是一块线性存储区域，每一位是一个 bit，8 个 bit 为一个字节 byte
4. 32 位和 64 位的 CPU 指的是 CPU 的位宽，前者可以一次计算 4 个字节的数据，后者可以一次计算 8 个字节的数据，因此位宽越大，CPU 一次能计算的数值越大
5. CPU 中的寄存器包括：
   1. 通用寄存器，存储一些运算需要的数据
   2. 程序计数器，存储 CPU 要执行的下一个指令的地址
   3. 指令寄存器，存储指令本身，指令执行完之前都会被放在指令寄存器里面
   4. 堆栈寄存器等。。
6. 总线：
   1. 地址总线，用于指示读写内存的地址
   2. 数据总线，用于传输数据
   3. 控制总线：中断、设备复位等信号。
   4. CPU 读写内存时，需要先通过地址总线来设定内存地址，再通过数据总线来传输数据
   5. 键盘和 CPU 通信通过控制总线
7. 线路位宽和 CPU 位宽
   1. 线路位宽指的是总线一次性传输多少位的数据
   2. CPU 位宽指的是 CPU 一次计算多大的数据
   3. 一般 CPU 位宽不低于线路位宽，否则传输会比较麻烦
   4. 32 位的 CPU 只能寻址 32 位的地址，因此最大内存为 4G
   5. 32 位 CPU 和 64 位 CPU 相比，仅在计算 32 位以上的数据才会出现速度问题
8. CPU 的指令周期：
   1. 根据程序计数器指向的地址，读取相应的指令，存到指令寄存器中
   2. 如果是计算类型的指令，交给逻辑运算单元执行，如果是存储类型的指令，交给控制单元执行。
   3. 执行结束后，程序计数器自增（自增一条指令的大小，如 32 位寄存器自增 4 个字节）
9. 1+2 指令可以被拆解为：
   1. Load 数据 1 到寄存器 r1 中
   2. load 数据 2 到寄存器 r2 中
   3. Add r1 和 r2 的数据到 r3 中
   4. Store 写回 r3 中的数据到内存
10. 不同的 CPU 支持不同的指令集，最简单的是 MIPS 指令集，分为 3 类
    1. r 指令为算术计算、逻辑运算指令
    2. i 指令如分支控制、数据传输
    3. j 指令为跳转指令
11. 一个 CPU 指令周期包括：
    1. 取指令。控制器负责根据程序计数器将指令写入到指令寄存器中
    2. 解析指令。控制器负责解析指令
    3. 执行指令。由逻辑计算单元负责。除非是无条件跳转指令，否则都要通过逻辑计算单元来执行
    4. 数据写回。
12. 指令的分类
    1. 数据传输。如 store load
    2. 运算
    3. 跳转
    4. 信号。如 trap 指中断
    5. 闲置。如 nop
13. CPU 的执行时间
    1. CPU 根据时钟周期来工作，但是大部分情况下，一个时钟周期无法完成一条指令。
    2. 程序执行时间=CPU 的时钟周期数\*单个时钟周期时长
    3. 如何降低时间：
       1. 减少指令数
       2. 降低时长【超频？】
       3. 减少时钟周期数：优化性能
14. 64 位的 CPU 和 32 位的相比，优势在哪儿
    1. 寻址空间大
    2. 在计算 32 位以上的数据上更快
15. 32 位的软件和 64 位的区别？
    1. 一般指的是指令集是 32 位还是 64 位的。
    2. 32 位在 64 位上运行是可以的，但是需要一套兼容机制
    3. 64 位一般不能在 32 位机器上运行
